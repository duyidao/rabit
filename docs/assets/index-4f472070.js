import{E as M,_ as E,G,y as N,i as h,j as V,r as R,o as c,c as u,a as e,t,F as C,b as D,f as j,w as y,H as q,I as O,J as B,K as T,q as X,L as Y,g as J,M as K,d as i,N as Q,O as U,P as W,Q as Z,e as v,p as ee,h as se}from"./index-5c486a8c.js";import{E as te}from"./input-number-b81ef7e5.js";import{E as ae,a as le}from"./breadcrumb-item-2eed0803.js";const oe=a=>M({url:"/goods",params:{id:a}}),ne=({id:a,type:_,limit:s=3})=>M({url:"/goods/hot",params:{id:a,type:_,limit:s}});const ce={class:"goods-hot"},ie=["src"],ue={class:"name ellipsis"},de={class:"desc ellipsis"},_e={class:"price"},re={__name:"DetailHot",props:{type:{type:Number,default:1}},setup(a){const _=a,s={1:"24小时热榜",2:"周热榜"},b=G(()=>s[_.type]),r=N(),l=h([]),f=async()=>{const o=await ne({id:r.params.id,type:_.type});l.value=o.result};return V(()=>f()),(o,m)=>{const x=R("RouterLink");return c(),u("div",ce,[e("h3",null,t(b.value),1),(c(!0),u(C,null,D(l.value,n=>(c(),j(x,{to:"/",class:"goods-item",key:n.id},{default:y(()=>[e("img",{src:n.picture,alt:""},null,8,ie),e("p",ue,t(n.name),1),e("p",de,t(n.desc),1),e("p",_e,"¥"+t(n.price),1)]),_:2},1024))),128))])}}},F=E(re,[["__scopeId","data-v-884cd34d"]]);const pe={class:"goods-image"},ve=["src"],me={class:"small"},ge=["onMouseenter"],he=["src"],fe={__name:"DetailImage",props:{imageList:{type:Array,required:!0}},setup(a){const _=h(0),s=x=>{_.value=x},b=h(null),{x:r,y:l,isOutside:f}=q(b),o=h(0),m=h(0);return O([r,l,f],()=>{f.value||(r.value>100&&r.value<300&&(o.value=r.value-100),l.value>400&&l.value<600&&(m.value=l.value-400),r.value>300&&(o.value=200),r.value<100&&(o.value=0),l.value>600&&(m.value=200),l.value<400&&(m.value=0))}),(x,n)=>(c(),u("div",pe,[e("div",{class:"middle",ref_key:"target",ref:b},[e("img",{src:a.imageList[_.value],alt:""},null,8,ve),e("div",{class:"layer",style:B({left:`${o.value}px`,top:`${m.value}px`})},null,4)],512),e("ul",me,[(c(!0),u(C,null,D(a.imageList,($,g)=>(c(),u("li",{key:g,onMouseenter:L=>s(g),class:T({active:_.value===g})},[e("img",{src:$,alt:""},null,8,he)],42,ge))),128))]),X(e("div",{class:"large",style:B([{backgroundImage:`url(${a.imageList[0]})`,backgroundPositionX:`${o.value*-2}px`,backgroundPositionY:`${m.value*-2}px`}])},null,4),[[Y,!J(f)]])]))}},ye=E(fe,[["__scopeId","data-v-7ba31ef8"]]);const d=a=>(ee("data-v-bf3b2ff3"),a=a(),se(),a),be={class:"xtx-goods-page"},xe={class:"container"},ke={class:"bread-container"},$e={key:0,class:"info-container"},Ie={class:"goods-info"},Ce={class:"media"},De={class:"goods-sales"},Ee=d(()=>e("p",null,"销量人气",-1)),Le=d(()=>e("p",null,[e("i",{class:"iconfont icon-task-filling"}),v("销量人气")],-1)),we=d(()=>e("p",null,"商品评价",-1)),Se=d(()=>e("p",null,[e("i",{class:"iconfont icon-comment-filling"}),v("查看评价")],-1)),Pe=d(()=>e("p",null,"收藏人气",-1)),Be=d(()=>e("p",null,[e("i",{class:"iconfont icon-favorite-filling"}),v("收藏商品")],-1)),Fe=d(()=>e("p",null,"品牌信息",-1)),Me=d(()=>e("p",null,[e("i",{class:"iconfont icon-dynamic-filling"}),v("品牌主页")],-1)),Ne={class:"spec"},Ve={class:"g-name"},He={class:"g-desc"},Ae={class:"g-price"},ze={class:"g-service"},Ge=d(()=>e("dt",null,"促销",-1)),Re=d(()=>e("dl",null,[e("dt",null,"服务"),e("dd",null,[e("span",null,"无忧退货"),e("span",null,"快速退款"),e("span",null,"免费包邮"),e("a",{href:"javascript:;"},"了解详情")])],-1)),je={class:"goods-footer"},qe={class:"goods-article"},Oe={class:"goods-tabs"},Te=d(()=>e("nav",null,[e("a",null,"商品详情")],-1)),Xe={class:"goods-detail"},Ye={class:"attrs"},Je={class:"dt"},Ke={class:"dd"},Qe=["src"],Ue={class:"goods-aside"},We={__name:"index",setup(a){const _=N(),s=h({}),{addCart:b}=K(),r=async()=>{const n=await oe(_.params.id);s.value=n.result};V(()=>r());const l=h({}),f=({...n})=>{l.value=n},o=h(1),m=n=>{o.value=n},x=()=>{l.value.skuId?b({...l.value,count:o.value,...s.value}):U({type:"warning",message:"请选择规格"})};return(n,$)=>{var w,S,P;const g=le,L=ae,H=W,A=te,z=Z;return c(),u("div",be,[e("div",xe,[e("div",ke,[i(L,{separator:">"},{default:y(()=>{var p,I;return[i(g,{to:{path:"/"}},{default:y(()=>[v("首页")]),_:1}),i(g,{to:{path:`/category/${(p=s.value.categories)==null?void 0:p[0].id}`}},{default:y(()=>{var k;return[v(t((k=s.value.categories)==null?void 0:k[0].name),1)]}),_:1},8,["to"]),i(g,{to:{path:`/category/${(I=s.value.categories)==null?void 0:I[1].id}`}},{default:y(()=>{var k;return[v(t((k=s.value.categories)==null?void 0:k[1].name),1)]}),_:1},8,["to"]),i(g,null,{default:y(()=>[v(t(s.value.name),1)]),_:1})]}),_:1})]),s.value.id?(c(),u("div",$e,[e("div",null,[e("div",Ie,[e("div",Ce,[i(ye,{imageList:s.value.mainPictures},null,8,["imageList"]),e("ul",De,[e("li",null,[Ee,e("p",null,t(s.value.salesCount),1),Le]),e("li",null,[we,e("p",null,t(s.value.commentCount),1),Se]),e("li",null,[Pe,e("p",null,t(s.value.collectCount),1),Be]),e("li",null,[Fe,e("p",null,t((w=s.value.brand)==null?void 0:w.name),1),Me])])]),e("div",Ne,[e("p",Ve,t(s.value.name),1),e("p",He,t(s.value.desc),1),e("p",Ae,[e("span",null,t(s.value.price),1),e("span",null,t(s.value.oldPrice),1)]),e("div",ze,[e("dl",null,[Ge,e("dd",null,t(s.value.name),1)]),Re]),i(H,{goods:s.value,onChange:f},null,8,["goods"]),i(A,{modelValue:o.value,"onUpdate:modelValue":$[0]||($[0]=p=>o.value=p),min:1,max:10,onChange:m},null,8,["modelValue"]),e("div",null,[i(z,{size:"large",class:"btn",onClick:x},{default:y(()=>[v(" 加入购物车 ")]),_:1})])])]),e("div",je,[e("div",qe,[e("div",Oe,[Te,e("div",Xe,[e("ul",Ye,[(c(!0),u(C,null,D((S=s.value.details)==null?void 0:S.properties,p=>(c(),u("li",{key:p.value},[e("span",Je,t(p.name),1),e("span",Ke,t(p.value),1)]))),128))]),(c(!0),u(C,null,D((P=s.value.details)==null?void 0:P.pictures,(p,I)=>(c(),u("img",{key:I,src:p,alt:""},null,8,Qe))),128))])])]),e("div",Ue,[i(F,{type:1}),i(F,{type:2})])])])])):Q("",!0)])])}}},ts=E(We,[["__scopeId","data-v-bf3b2ff3"]]);export{ts as default};
